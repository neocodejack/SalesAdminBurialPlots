
@{
    ViewBag.Title = "Download Document";
}

<script src="https://cdn.jsdelivr.net/npm/gasparesganga-jquery-ajax-downloader@1.1.0/src/ajaxdownloader.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            type: "GET",
            url: "@Url.Action("DocumentsList", "Documents")",
            success: function (response) {
                var html = "";

                for (var i = 0; i < response.length; i++) {
                    html += "<option value='" + response[i] +"'> " + response[i] + "</option >";
                }
                $("#drpDocuments").append(html);
            }

        });

        $("#btnPdf").click(function (evt) {
            var url = "@Url.Action("DownloadFile", "Documents")";

            if ($("#drpDocuments").val() != "") {
                $.AjaxDownloader({
                    url: url,
                    data: {
                        "fileName": $("#drpDocuments").val()
                    }
                });
            }
        });
    });
</script>
<table cellspacing="10">
    <tr>
        <td><label class="col-md-4 control-label" style="width:160px">Document Type:</label></td>
        <td><select id="drpDocuments" style="width:200px;"><option value="">---Select---</option></select></td>
    </tr>
    <tr>
        <td>

        </td>
        <td align="right">
            <input type="button" id="btnPdf" class="btn btn-primary" value="Download"/>
        </td>
    </tr>
</table>